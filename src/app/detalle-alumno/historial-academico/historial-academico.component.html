  @if (historialAcademico().length > 0) {
        <div class="table-container mt-2">
          <table mat-table [dataSource]="historialAcademico()" class="tabla-EC">
            <!-- ...existing column definitions... -->

            <ng-container matColumnDef="anio">
              <th mat-header-cell *matHeaderCellDef>AÑO</th>
              <td mat-cell *matCellDef="let element">{{ element.anio }}</td>
            </ng-container>

            <ng-container matColumnDef="mes">
              <th mat-header-cell *matHeaderCellDef>MES</th>
              <td mat-cell *matCellDef="let element">{{ element.mes | titlecase}}</td>
            </ng-container>

            <ng-container matColumnDef="descripcion">
              <th mat-header-cell *matHeaderCellDef>CURSO</th>
              <td mat-cell *matCellDef="let element">{{ element.descripcion | titlecase}}</td>
            </ng-container>

            <ng-container matColumnDef="modalidad">
              <th mat-header-cell *matHeaderCellDef>MODALIDAD</th>
              <td mat-cell *matCellDef="let element">{{ element.modalidad | titlecase }}</td>
            </ng-container>

            <ng-container matColumnDef="nombreCompleto">
              <th mat-header-cell *matHeaderCellDef>DOCENTE</th>
              <td mat-cell *matCellDef="let element">{{ element.nombreCompleto | titlecase}}</td>
            </ng-container>

            <ng-container matColumnDef="nombre">
              <th mat-header-cell *matHeaderCellDef>TURNO</th>
              <td mat-cell *matCellDef="let element">{{ element.nombre }}</td>
            </ng-container>

            <ng-container matColumnDef="nombreAula">
              <th mat-header-cell *matHeaderCellDef>AULA</th>
              <td mat-cell *matCellDef="let element">{{ element.nombreAula }}</td>
            </ng-container>

            <ng-container matColumnDef="notaReg">
              <th mat-header-cell *matHeaderCellDef>NOTA</th>
              <td mat-cell *matCellDef="let element">{{ element.notaReg }}</td>
            </ng-container>

            <ng-container matColumnDef="apruebaReg">
              <th mat-header-cell *matHeaderCellDef>APRUEBA</th>
              <td mat-cell *matCellDef="let element">{{ element.apruebaReg }}</td>
            </ng-container>

            <ng-container matColumnDef="sustinotaReg">
              <th mat-header-cell *matHeaderCellDef>SUSTI.</th>
              <td mat-cell *matCellDef="let element">{{ element.sustinotaReg }}</td>
            </ng-container>

            <ng-container matColumnDef="sustiestReg">
              <th mat-header-cell *matHeaderCellDef>ESTADO SUSTI.</th>
              <td mat-cell *matCellDef="let element">{{ element.sustiestReg }}</td>
            </ng-container>

            <ng-container matColumnDef="deben">
              <th mat-header-cell *matHeaderCellDef>DEBE</th>
              <td mat-cell *matCellDef="let element">{{ element.deben }}</td>
            </ng-container>

            <ng-container matColumnDef="estado">
              <th mat-header-cell *matHeaderCellDef>ESTADO</th>
              <td mat-cell *matCellDef="let element">{{ element.estado }}</td>
            </ng-container>

            <ng-container matColumnDef="opciones">
              <th mat-header-cell *matHeaderCellDef>OPCIONES</th>
              <td mat-cell *matCellDef="let element">
                <button mat-icon-button color="primary" (click)="verDetalle(element)" matTooltip="Ver Detalle">
                  <mat-icon>visibility</mat-icon>
                </button>
              </td>

            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"
             [ngClass]="{
                        'fila-red': row.apruebaReg == 'F',
                        'fila-green': row.apruebaReg == 'P'
                        }"></tr>
          </table>
          
          <mat-paginator 
            [length]="totalHistorialCount()"
            [pageSize]="currentPageSize()"
            [pageIndex]="currentPageIndex()"
            [pageSizeOptions]="pageSizeOptions"
            [showFirstLastButtons]="true"
            (page)="onHistorialPageChange($event)"
            class="history-paginator">
          </mat-paginator>
        </div>
      } @else {
        <div class="no-results">
          <mat-icon>school</mat-icon>
          <p>No se encontró historial académico para este estudiante.</p>
        </div>
      }

